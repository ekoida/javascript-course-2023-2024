<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Input Validation/Branching</title>
  </head>
  <body>
    <input id="inputPhone" size="30" type="text" placeholder="enter your phone number" />
    <button onclick="validate()">GO</button>
    <script>
      function validate() {
        let fullNumber = inputPhone.value;
        if (fullNumber.startsWith("+373-")) {
          let regionalNumber = fullNumber.substring(5);
          if (regionalNumber.startsWith("22-")) {
            let number = regionalNumber.substring(3);
            const regionalNumberLength = 6;
            let isRegionalNumberValid;

            if (number.length < regionalNumberLength) {
              alert("ERROR : Wrong number format!");
            } else {
              for (let i = 0; 0 <= number[i] && number[i] <= 9; i++) {
                if (i > regionalNumberLength) {
                  isRegionalNumberValid = false;
                  break;
                }
                isRegionalNumberValid = true;
              }
              if (isRegionalNumberValid) {
                alert("Success!");
              } else {
                alert("ERROR : Wrong number format!");
              }
            }
          } else if (regionalNumber.startsWith("6")) {
            let mobileNumber = regionalNumber.substring(1);
            const mobileNumberLength = 7;
            if (mobileNumber.length != mobileNumberLength) {
              alert("ERROR: Not valid mobile number!");
            } else {
              let isMobileNumberValid;
              for (let i = 0; 0 <= mobileNumber[i] && mobileNumber[i] <= 9; i++) {
                if (i > mobileNumberLength) {
                  isMobileNumberValid = false;
                  break;
                }
                isMobileNumberValid = true;
              }
              if (isMobileNumberValid) {
                alert("Success!");
              } else {
                alert("ERROR : Wrong number format!");
              }
            }
          } else {
            alert("ERROR:Only Moldova numbers allowed!");
          }
        } else {
          alert("ERROR:Only Moldova numbers allowed!");
        }
        console.log(fullNumber);
      }
    </script>
  </body>
</html>
